<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dayan Kahandawala Academy of Dance</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* --- 1. GLOBAL SETTINGS & SCROLLBAR --- */
        :root { 
            --primary-color: #e63946; 
            --gold-accent: #d4af37; 
            --gold-gradient: linear-gradient(45deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            --dark-bg: #050505; 
            --glass-bg: rgba(255, 255, 255, 0.03);
            --light-text: #f1faee; 
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }
        
        body { 
            font-family: 'Montserrat', sans-serif; 
            background-color: var(--dark-bg); 
            color: var(--light-text); 
            overflow-x: hidden; 
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: var(--gold-accent); border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: #fff; }

        a { text-decoration: none; color: inherit; transition: 0.4s; }
        ul { list-style: none; }

        /* --- 2. ADVANCED ANIMATIONS --- */
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes shimmerText { 
            0% { background-position: 0% 50%; } 
            50% { background-position: 100% 50%; } 
            100% { background-position: 0% 50%; } 
        }
        @keyframes float { 
            0% { transform: translateY(0px); filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5)); } 
            50% { transform: translateY(-20px); filter: drop-shadow(0 25px 30px rgba(212, 175, 55, 0.2)); } 
            100% { transform: translateY(0px); filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5)); } 
        }
        @keyframes cardShine { 
            0% { left: -100%; } 
            100% { left: 100%; } 
        }
        @keyframes pulseGlow { 
            0% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.7); } 
            70% { box-shadow: 0 0 0 15px rgba(212, 175, 55, 0); } 
            100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); } 
        }
        @keyframes blinkCursor { from { border-right-color: var(--gold-accent); } to { border-right-color: transparent; } }
        @keyframes logoReveal { 0% { opacity: 0; transform: scale(0.8); } 50% { opacity: 1; transform: scale(1.1); } 100% { opacity: 1; transform: scale(1); } }

        .hidden { opacity: 0; transform: translateY(60px); transition: all 1.2s cubic-bezier(0.165, 0.84, 0.44, 1); }
        .show { opacity: 1; transform: translateY(0); }
        .grid-container .card:nth-child(1) { transition-delay: 0.1s; }
        .grid-container .card:nth-child(2) { transition-delay: 0.3s; }
        .grid-container .card:nth-child(3) { transition-delay: 0.5s; }

        /* --- 3. NAVIGATION --- */
        nav { 
            display: flex; justify-content: space-between; align-items: center; padding: 15px 50px; 
            background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(20px); 
            border-bottom: 1px solid rgba(212, 175, 55, 0.1); 
            position: fixed; width: 100%; top: 0; z-index: 1000; transition: 0.3s; 
        }
        .logo-container img { height: 60px; width: auto; border-radius: 4px; transition: transform 0.3s; border: 1px solid var(--gold-accent); }
        .logo-container img:hover { transform: scale(1.05) rotate(2deg); box-shadow: 0 0 15px var(--gold-accent); }
        
        .nav-links { display: flex; gap: 35px; align-items: center; }
        .nav-links a { 
            font-family: 'Cinzel', serif; font-weight: 700; letter-spacing: 1px; position: relative; color: #ccc;
        }
        .nav-links a::before {
            content: ''; position: absolute; width: 100%; height: 2px; bottom: -5px; left: 0;
            background: var(--gold-accent); transform: scaleX(0); transform-origin: right; transition: transform 0.4s ease;
        }
        .nav-links a:hover::before { transform: scaleX(1); transform-origin: left; }
        .nav-links a:hover { color: var(--gold-accent); text-shadow: 0 0 8px rgba(212,175,55,0.6); }
        .menu-icon { display: none; font-size: 1.8rem; color: var(--gold-accent); cursor: pointer; }

        /* --- 4. HERO SECTION --- */
        header { position: relative; height: 100vh; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; overflow: hidden; }
        #bg-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; width: auto; height: auto; z-index: -2; transform: translate(-50%, -50%); object-fit: cover; filter: brightness(40%) contrast(1.1); background: url('background.jpg') no-repeat center center/cover;}
        
        .hero-content h1 { 
            font-family: 'Cinzel', serif; font-size: 5.5rem; margin-bottom: 15px; 
            text-transform: uppercase; letter-spacing: 4px; font-weight: 800; line-height: 1.1;
            /* Gold Text */
            background: var(--gold-gradient); background-size: 200% 200%; 
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
            animation: shimmerText 4s ease infinite; text-shadow: 0 0 30px rgba(0,0,0,0.8);
        }
        
        .hero-content p { 
            font-size: 1.4rem; margin-bottom: 50px; color: rgba(255,255,255,0.9); 
            letter-spacing: 2px; font-weight: 300; border-right: 3px solid var(--gold-accent); 
            white-space: nowrap; overflow: hidden; width: 0; 
            animation: typeText 3s steps(40, end) forwards 1s, blinkCursor 0.75s step-end infinite; 
            display: inline-block;
        }
        @keyframes typeText { from { width: 0; } to { width: 100%; } }

        .btn { 
            padding: 18px 55px; background: transparent; color: white; 
            font-size: 1.1rem; border: 2px solid var(--gold-accent); border-radius: 50px; 
            cursor: pointer; font-weight: bold; text-transform: uppercase; letter-spacing: 2px;
            transition: all 0.4s; position: relative; overflow: hidden; z-index: 1;
            animation: pulseGlow 2s infinite; /* Pulse Added Back */
        }
        .btn::after {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: 0.5s; z-index: -1;
        }
        .btn:hover::after { left: 100%; }
        .btn:hover { background: var(--gold-accent); color: black; box-shadow: 0 0 30px var(--gold-accent); border-color: transparent; }

        /* --- 5. SECTIONS & GLASS CARDS --- */
        .section { padding: 120px 50px; text-align: center; position: relative; }
        .section h2 { 
            font-family: 'Cinzel', serif; font-size: 3.5rem; margin-bottom: 70px; 
            color: var(--light-text); display: inline-block; position: relative;
            text-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }
        .section h2::after {
            content: ''; position: absolute; bottom: -15px; left: 50%; transform: translateX(-50%);
            width: 80px; height: 4px; background: var(--gold-accent); border-radius: 2px;
            box-shadow: 0 0 10px var(--gold-accent);
        }

        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 50px; }
        
        .card { 
            background: var(--glass-bg); backdrop-filter: blur(15px); 
            padding: 50px 30px; border-radius: 20px; 
            border: 1px solid rgba(255,255,255,0.08); 
            transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            position: relative; overflow: hidden;
        }
        .card:hover { 
            transform: translateY(-15px) scale(1.02); 
            background: rgba(255, 255, 255, 0.06);
            border-color: var(--gold-accent); 
            box-shadow: 0 30px 60px rgba(0,0,0,0.5), inset 0 0 0 1px var(--gold-accent); 
        }
        .card h3 { font-family: 'Cinzel', serif; color: var(--gold-accent); margin-bottom: 15px; font-size: 2rem; }
        .card p { color: #aaa; line-height: 1.8; font-size: 1.05rem; }
        
        /* Card Shine */
        .card::before {
            content: ''; position: absolute; top: 0; left: -150%; width: 100%; height: 100%;
            background: linear-gradient(120deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: skewX(-25deg); transition: 0s;
        }
        .card:hover::before { animation: cardShine 0.7s; }

        /* --- 6. LEADERSHIP --- */
        .about-container { display: flex; gap: 80px; max-width: 1300px; margin: 0 auto; text-align: left; align-items: center; flex-wrap: wrap; justify-content: center; }
        .about-image-box { 
            flex: 1; min-width: 350px; max-width: 500px; position: relative;
            animation: float 6s ease-in-out infinite; /* Float Added Back */
        }
        .about-image-box img { 
            width: 100%; border-radius: 20px; 
            border: 2px solid var(--gold-accent); 
            box-shadow: 0 0 40px rgba(0,0,0,0.8);
        }
        .about-image-box::after {
            content: ''; position: absolute; top: 20px; left: 20px; width: 100%; height: 100%;
            border: 2px solid rgba(212, 175, 55, 0.3); border-radius: 20px; z-index: -1;
            transition: 0.5s;
        }
        .about-image-box:hover::after { top: 10px; left: 10px; border-color: var(--gold-accent); }

        .about-text-box { flex: 1.5; min-width: 300px; }
        .about-text-box h3 { 
            font-family: 'Cinzel', serif; font-size: 2.8rem; margin-bottom: 25px; 
            background: var(--gold-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .about-text-box p { font-size: 1.1rem; line-height: 1.9; color: #ddd; margin-bottom: 20px; }
        .about-text-box .quote { 
            font-style: italic; font-size: 1.3rem; color: var(--primary-color); 
            margin-top: 30px; padding: 25px; background: linear-gradient(90deg, rgba(230,57,70,0.1), transparent);
            border-left: 5px solid var(--primary-color); border-radius: 0 20px 20px 0;
        }

        /* --- 7. SLIDESHOW --- */
        .slideshow-container { 
            position: relative; max-width: 1100px; height: 600px; margin: 0 auto; 
            border-radius: 25px; overflow: hidden; 
            box-shadow: 0 40px 80px rgba(0,0,0,0.8); 
            border: 1px solid rgba(255,255,255,0.1);
        }
        .slide { position: absolute; width: 100%; height: 100%; opacity: 0; transform: scale(1.1); transition: opacity 1.5s ease-in-out, transform 7s ease; }
        .slide.active { opacity: 1; transform: scale(1); }
        .slide img { width: 100%; height: 100%; object-fit: cover; }

        /* --- 8. MODALS (Only Enrollment/Finder) --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.96); z-index: 2000; display: none; justify-content: center; align-items: center; animation: fadeIn 0.4s; }
        .login-box { background: #0a0a0a; border: 1px solid var(--gold-accent); padding: 50px 40px; border-radius: 20px; width: 100%; max-width: 450px; text-align: center; position: relative; box-shadow: 0 0 60px rgba(212, 175, 55, 0.1); }
        .close-modal { position: absolute; top: 20px; right: 25px; font-size: 2rem; cursor: pointer; color: #666; transition: 0.3s; }
        .close-modal:hover { color: var(--primary-color); transform: rotate(90deg); }
        
        .login-input { width: 100%; padding: 18px; margin: 12px 0; background: #151515; border: 1px solid #333; color: white; border-radius: 8px; font-size: 1rem; transition: 0.3s; font-family: 'Montserrat', sans-serif; }
        .login-input:focus { border-color: var(--gold-accent); box-shadow: 0 0 15px rgba(212,175,55,0.1); outline: none; }
        
        /* --- 9. CLASS RESULTS BOX --- */
        #classResults { margin-top: 20px; text-align: left; max-height: 200px; overflow-y: auto; border-top: 1px solid #333; padding-top: 10px; display: none; }
        .class-item { background: #111; padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 3px solid var(--primary-color); animation: fadeInUp 0.3s; display: flex; justify-content: space-between; align-items: center; }
        .class-item h4 { color: white; margin: 0; font-size: 1rem; font-family: 'Cinzel', serif; }
        .class-item p { color: #888; margin: 5px 0 0 0; font-size: 0.85rem; }
        .select-btn { background: var(--gold-accent); color: black; border: none; padding: 5px 10px; border-radius: 4px; font-size: 0.8rem; cursor: pointer; font-weight: bold; }
        .select-btn:hover { background: white; }

        /* --- 10. INTRO SPLASH --- */
        #intro-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; z-index: 9999; display: flex; justify-content: center; align-items: center; transition: opacity 1.5s ease-out; }
        .intro-logo { width: 180px; opacity: 0; animation: logoReveal 3s forwards; filter: drop-shadow(0 0 20px var(--gold-accent)); }
        .fade-out { opacity: 0; pointer-events: none; }
        footer { background: #080808; padding: 60px 20px; border-top: 1px solid #222; color: #555; text-align: center; letter-spacing: 2px; font-size: 0.9rem; }

        /* --- 11. MOBILE RESPONSIVENESS --- */
        @media (max-width: 768px) {
            nav { padding: 15px 20px; background: #000; }
            .menu-icon { display: block; }
            .nav-links { display: none; position: absolute; top: 100%; left: 0; width: 100%; background: #050505; flex-direction: column; padding: 40px 0; border-bottom: 1px solid var(--gold-accent); }
            .nav-links.active { display: flex; }
            .hero-content h1 { font-size: 2.5rem; }
            .hero-content p { font-size: 0.9rem; width: auto; border: none; animation: none; white-space: normal; }
            .section h2 { font-size: 2rem; }
            .about-text-box h3 { font-size: 2rem; }
            .section { padding: 80px 20px; }
            .about-container { gap: 40px; }
            .slideshow-container { height: 300px; }
            .login-box { padding: 30px 20px; }
        }

        /* --- 12. LOGIN BUTTON STYLES --- */
        .login-btn-style {
            border: 1px solid var(--gold-accent);
            padding: 10px 25px;
            border-radius: 50px;
            color: var(--gold-accent) !important; /* Force Gold Color */
            background: rgba(212, 175, 55, 0.05); /* Very faint gold background */
            transition: all 0.4s ease;
            box-shadow: 0 0 5px rgba(212, 175, 55, 0.2); /* Soft Glow */
            display: flex;
            align-items: center;
            gap: 8px; /* Space between icon and text */
        }
        .login-btn-style:hover {
            background: var(--gold-accent);
            color: #000 !important; /* Text turns black on hover */
            box-shadow: 0 0 25px var(--gold-accent); /* Strong Glow effect */
            transform: translateY(-3px); /* Floats up slightly */
        }
        .login-btn-style::before { display: none; } /* Removes underline */
    </style>
</head>
<body>

    <div id="intro-overlay"><img src="logo.jpg" alt="DK Dance Academy" class="intro-logo"></div>

    <div class="modal-overlay" id="enrollModal">
        <div class="login-box" style="max-width: 500px;">
            <span class="close-modal" onclick="toggleEnroll()">×</span>
            <h2 style="color: var(--gold-accent); font-family: 'Cinzel', serif; margin-bottom: 10px;">CLASS FINDER</h2>
            <p style="color: #ccc; margin-bottom: 20px; font-size: 0.9rem;">Enter details to see availability</p>
            
            <form onsubmit="findClasses(event)">
                <input type="text" id="applicantName" class="login-input" placeholder="STUDENT NAME" required>
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="applicantDob" class="login-input" placeholder="DATE OF BIRTH" onfocus="(this.type='date')" onblur="if(this.value==''){this.type='text'}" required>
                    <select id="applicantGrade" class="login-input" style="color: #ccc;" required>
                        <option value="" disabled selected>Select Grade</option>
                        <option>Nursery</option>
                        <option>Grade 1</option><option>Grade 2</option><option>Grade 3</option><option>Grade 4</option><option>Grade 5</option>
                        <option>Grade 6</option><option>Grade 7</option><option>Grade 8</option><option>Grade 9</option><option>Grade 10</option><option>Grade 11</option>
                        <option>O/L</option><option>A/L</option><option>Adult</option>
                    </select>
                </div>
                <select id="applicantBranch" class="login-input" style="border-color: var(--gold-accent);" required>
                    <option value="" disabled selected>Select Branch</option>
                    <option value="Horana">Horana Branch</option>
                    <option value="Gampaha">Gampaha Branch</option>
                    <option value="Kaduwela">Kaduwela Branch</option>
                </select>
                <button class="btn" style="width: 100%; margin-top: 20px; background: var(--gold-accent); color: black; border: none;">CHECK AVAILABILITY</button>
            </form>
            <div id="classResults"></div>
        </div>
    </div>

    <div class="modal-overlay" id="applicationModal" style="z-index: 3000;">
        <div class="login-box" style="max-width: 500px; background: #050505;">
            <span class="close-modal" onclick="closeApplication()">×</span>
            <h2 style="color: var(--primary-color); font-family: 'Cinzel', serif; margin-bottom: 5px;">APPLICATION</h2>
            <p id="selectedClassDisplay" style="color: #fff; margin-bottom: 20px; font-weight: bold; font-size: 0.9rem;"></p>
            
            <form action="https://formspree.io/f/mrbdzodp" method="POST">
                <input type="hidden" name="_subject" value="New Student Application!">
                <input type="hidden" name="Selected_Class" id="hiddenClassField">

                <input type="text" name="Full_Name" class="login-input" placeholder="Student Full Name" required>
                <div style="display: flex; gap: 10px;">
                    <input type="text" name="Age" class="login-input" placeholder="Age" style="width: 30%;" required>
                    <input type="text" name="Grade" class="login-input" placeholder="Grade" style="width: 70%;" required>
                </div>
                <select name="Branch" class="login-input" style="border-color: var(--primary-color);" required>
                    <option value="" disabled selected>Select Branch</option>
                    <option value="Horana">Horana Branch</option>
                    <option value="Gampaha">Gampaha Branch</option>
                    <option value="Kaduwela">Kaduwela Branch</option>
                </select>
                <input type="tel" name="Phone" class="login-input" placeholder="Contact Number" required>
                <button class="btn" style="width: 100%; margin-top: 20px; background: var(--primary-color); color: white; border: none;">SUBMIT APPLICATION</button>
            </form>
        </div>
    </div>

    <div class="modal-overlay" id="costumeModal" style="z-index: 9999;">
        <div class="login-box" style="max-width: 550px; padding: 30px; background: #050505; border: 1px solid #d4af37;">
            <span class="close-modal" onclick="document.getElementById('costumeModal').style.display='none'">×</span>
            <h2 style="color: #d4af37; font-family: 'Cinzel', serif;">COSTUME STUDIO</h2>
            <p style="color: #888; font-size: 0.9rem; margin-bottom: 20px;">Rent Premium Costumes</p>
            <div style="background: white; display: flex; justify-content: center; border-radius: 8px; overflow: hidden;">
                <iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FDayankahandawalacostume&tabs=timeline&width=500&height=500&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId" 
                    width="500" height="500" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share">
                </iframe>
            </div>
            <a href="https://www.facebook.com/Dayankahandawalacostume" target="_blank" class="btn" style="width: 100%; margin-top: 20px; background: #1877f2; border-color: #1877f2; color: white; text-shadow: none;">
                <i class="fab fa-facebook"></i> OPEN FULL PAGE
            </a>
        </div>
    </div>

    <div class="modal-overlay" id="loginModal">
        <div class="login-box">
            <span class="close-modal" onclick="closeLogin()">×</span>
            <h2 style="color: var(--gold-accent); font-family: 'Cinzel', serif;">ACADEMY LOGIN</h2>
            <p style="color: #888; margin-bottom: 20px;">Staff & Student Portal</p>
            
            <form action="login_endpoint.php" method="POST">
                <input type="text" name="username" class="login-input" placeholder="User ID (e.g. tea001)" required>
                <input type="password" name="password" class="login-input" placeholder="Password" required>
                <button class="btn" style="width: 100%; margin-top: 20px; background: var(--gold-gradient); color: black; border: none; font-weight: 800; box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);">
                    <i class="fas fa-shield-alt"></i> SECURE LOGIN
                </button>
            </form>
        </div>
    </div>

    <nav id="mainNav">
        <div class="logo-container"><img src="logo.jpg" alt="Logo"></div>
        <div class="menu-icon" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
        <ul class="nav-links" id="navLinks">
            <li><a href="#home" onclick="toggleMenu()">HOME</a></li>
            <li><a href="#about" onclick="toggleMenu()">DIRECTORS</a></li>
            <li><a href="#gallery" onclick="toggleMenu()">GALLERY</a></li>
            
            <li>
                <a href="javascript:void(0)" onclick="document.getElementById('costumeModal').style.display='flex';">
                    COSTUMES
                </a>
            </li>

            <li><a href="#classes" onclick="toggleMenu()">CLASSES</a></li>
            <li>
                <a href="#" onclick="openLogin()" class="login-btn-style">
                    <i class="fas fa-user-lock"></i> LOGIN
                </a>
            </li>
        </ul>
    </nav>

    <div id="mainContent">
        <header id="home">
            <video autoplay muted loop playsinline id="bg-video" poster="background.jpg">
                <source src="video.mp4" type="video/mp4">
            </video>
            <div class="overlay"></div>
            <div class="hero-content">
                <h1>Dayan Kahandawala<br>Academy of Dance</h1>
                <p>Where Tradition Meets Passion | Est. 1995</p>
                <button class="btn" onclick="toggleEnroll()">ENROLL NOW</button>
            </div>
        </header>

        <section id="about" class="section hidden">
            <h2>Our Leadership</h2>
            <div class="about-container">
                <div class="about-image-box"><img src="director.jpg" alt="Directors"></div>
                <div class="about-text-box">
                    <h3>Dayan & Chandima Kahandawala</h3>
                    <p>With decades of unwavering dedication to the art of dance, Dayan and Chandima Kahandawala stand as pillars of Sri Lankan traditional culture.</p>
                    <p>As the visionary directors of the academy, they have dedicated their lives to preserving the purity of Kandyan and Low Country dance while nurturing a new generation of artists. Their teaching philosophy blends strict discipline with the freedom of creative expression.</p>
                    <p class="quote">"Dance is not just movement, it is the language of the soul."</p>
                </div>
            </div>
        </section>

        <section id="gallery" class="section hidden">
            <h2>Our Moments</h2>
            <div class="slideshow-container">
                <div class="slide active"><img src="slide1.jpg"></div><div class="slide"><img src="slide2.jpg"></div><div class="slide"><img src="slide3.jpg"></div><div class="slide"><img src="slide4.jpg"></div><div class="slide"><img src="slide5.jpg"></div>
            </div>
        </section>

        <section id="classes" class="section">
            <h2 class="hidden">Academy Classes</h2>
            <div class="grid-container">
                <div class="card hidden"><h3>Kandyan Dance</h3><p>Master the traditional Udarata dance forms, Ves dancing, and the intricate rhythms of the Gata Bera.</p></div>
                <div class="card hidden"><h3>Low Country</h3><p>Explore the dynamic Pahatharata traditions, mask dancing, and the healing rituals of the south.</p></div>
                <div class="card hidden"><h3>Modern Fusion</h3><p>A creative blend of ancient roots and contemporary expression, perfect for modern stage performance.</p></div>
            </div>
        </section>

        <footer>
            <p>&copy; 2025 Dayan Kahandawala Academy of Dance.</p>
            <div style="margin-top: 20px; font-size: 1.5rem; color: var(--gold-accent);">
                <i class="fab fa-facebook" style="margin: 0 15px;"></i> <i class="fab fa-instagram" style="margin: 0 15px;"></i> <i class="fab fa-youtube" style="margin: 0 15px;"></i>
            </div>
        </footer>
    </div>

    <script>
        // --- 1. PAGE LOAD ANIMATIONS ---
        window.addEventListener('load', () => { 
            setTimeout(() => { 
                document.getElementById('intro-overlay').classList.add('fade-out'); 
                setTimeout(() => { 
                    document.getElementById('intro-overlay').style.display = 'none'; 
                }, 1500); 
            }, 2500); 
        });

        // --- 2. NAVIGATION & MODAL FUNCTIONS ---
        function toggleMenu() { 
            document.getElementById('navLinks').classList.toggle('active'); 
        }

        // Login Modal
        function openLogin() { 
            document.getElementById('loginModal').style.display = 'flex'; 
            if(window.innerWidth < 768) toggleMenu(); 
        }
        function closeLogin() { document.getElementById('loginModal').style.display = 'none'; }

        // Enroll Modal
        function toggleEnroll() { 
            const modal = document.getElementById('enrollModal');
            modal.style.display = (modal.style.display === 'flex') ? 'none' : 'flex';
        }

        // Application Modal
        function closeApplication() { document.getElementById('applicationModal').style.display = 'none'; }

        // --- 3. CLASS FINDER LOGIC ---
        async function findClasses(e) {
            e.preventDefault();
            const branch = document.getElementById('applicantBranch').value;
            const grade = document.getElementById('applicantGrade').value;
            const resultsDiv = document.getElementById('classResults');
            resultsDiv.style.display = 'block';
            resultsDiv.innerHTML = '<p style="color:#888;">Searching schedule...</p>';
            try {
                const res = await fetch('get_classes.php', { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({ branch: branch, grade: grade }) });
                const result = await res.json();
                if (result.status === 'success' && result.data.length > 0) {
                    let html = '<h4 style="color:var(--gold-accent); margin-top:15px;">Available Classes:</h4>';
                    result.data.forEach(cls => {
                        let className = cls.subject + " (" + cls.day_time + ")";
                        html += `<div class="class-item" style="display:flex; justify-content:space-between; align-items:center;">
                                    <div><h4>${cls.subject}</h4><p><i class="far fa-clock"></i> ${cls.day_time}</p></div>
                                    <button class="select-btn" onclick="openApplication('${className}')">SELECT</button>
                                 </div>`;
                    });
                    resultsDiv.innerHTML = html;
                } else { resultsDiv.innerHTML = '<p style="color:#ff4444; margin-top:10px;">No classes found.</p>'; }
            } catch (err) { resultsDiv.innerHTML = '<p style="color:red;">Error connecting.</p>'; }
        }

        function openApplication(className) {
            document.getElementById('enrollModal').style.display = 'none'; 
            document.getElementById('applicationModal').style.display = 'flex'; 
            document.getElementById('selectedClassDisplay').innerText = "APPLYING FOR: " + className;
            document.getElementById('hiddenClassField').value = className;
        }

        // --- 4. SCROLL & SLIDESHOW ANIMATIONS ---
        const obs = new IntersectionObserver((entries) => { entries.forEach(e => { if(e.isIntersecting) e.target.classList.add('show'); }); });
        document.querySelectorAll('.hidden').forEach(el => obs.observe(el));
        
        let slideIndex = 0;
        function showSlides() {
            let slides = document.querySelectorAll(".slide");
            if(slides.length > 0) {
                for (let i = 0; i < slides.length; i++) slides[i].classList.remove("active");
                slideIndex++; if (slideIndex > slides.length) slideIndex = 1;
                slides[slideIndex - 1].classList.add("active");
                setTimeout(showSlides, 4000);
            }
        }
        showSlides();
    </script>
</body>
</html>